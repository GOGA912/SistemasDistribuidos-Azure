BEGIN;

CREATE TABLE IF NOT EXISTS Clientes (
    id SERIAL PRIMARY KEY,
    nombre TEXT NOT NULL,
    correo TEXT NOT NULL,
    direccion TEXT NOT NULL,
    sexo TEXT
);

CREATE TABLE IF NOT EXISTS Cuentas (
    numero TEXT PRIMARY KEY,
    titular_id INTEGER NOT NULL,
    saldo REAL NOT NULL,
    nip INTEGER NOT NULL,
    estado INTEGER NOT NULL,
    FOREIGN KEY (titular_id) REFERENCES Clientes(id)
);

CREATE TABLE IF NOT EXISTS Movimientos (
    id SERIAL PRIMARY KEY,
    cuenta TEXT NOT NULL,
    tipo TEXT NOT NULL,
    monto REAL NOT NULL,
    fecha TIMESTAMP NOT NULL,
    FOREIGN KEY (cuenta) REFERENCES Cuentas(numero)
);

CREATE TABLE IF NOT EXISTS Transferencias (
    id SERIAL PRIMARY KEY,
    cuenta_origen TEXT NOT NULL,
    cuenta_destino TEXT NOT NULL,
    monto REAL NOT NULL,
    fecha TIMESTAMP NOT NULL,
    FOREIGN KEY (cuenta_origen) REFERENCES Cuentas(numero),
    FOREIGN KEY (cuenta_destino) REFERENCES Cuentas(numero)
);

INSERT INTO Clientes VALUES (1,'Juan Perez','juan.perez@email.com','Calle Reforma #123','H');
INSERT INTO Clientes VALUES (2,'Jesus Gonzalez','jesus.gonzalez@email.com','Av. Insurgentes #456','H');
INSERT INTO Clientes VALUES (3,'Santiago Muñoz','santiago.munoz@email.com','Col. Roma Norte #789','H');
INSERT INTO Clientes VALUES (4,'Rodrigo Peralta','rodrigo.peralta@email.com','Calle Juárez #101','H');
INSERT INTO Clientes VALUES (5,'Ernesto Caballero','ernesto.caballero@email.com','Blvd. Independencia #202','H');
INSERT INTO Cuentas VALUES ('1234567890',1,10200.0,1234,1);
INSERT INTO Cuentas VALUES ('2468024680',2,6350.0,2468,1);
INSERT INTO Cuentas VALUES ('3692581470',3,6348.3,3692,1);
INSERT INTO Cuentas VALUES ('4826048260',4,1.8,4826,1);
INSERT INTO Cuentas VALUES ('6284062840',5,1000000.1,6284,1);
INSERT INTO Movimientos VALUES (1,'1234567890','Deposito',1500.0,'2025-01-05');
INSERT INTO Movimientos VALUES (2,'1234567890','Retiro',200.0,'2025-01-07');
INSERT INTO Movimientos VALUES (3,'2468024680','Deposito',5000.0,'2025-01-10');
INSERT INTO Movimientos VALUES (4,'3692581470','Retiro',500.0,'2025-01-12');
INSERT INTO Movimientos VALUES (5,'4826048260','Deposito',3513.5,'2025-01-15');
INSERT INTO Movimientos VALUES (6,'1234567890','Deposito',1000.0,'2025-04-17 03:27:51');
INSERT INTO Movimientos VALUES (7,'1234567890','Deposito',1000.0,'2025-04-17 03:28:00');
INSERT INTO Movimientos VALUES (8,'1234567890','Deposito',1000.0,'2025-04-17 03:28:03');
INSERT INTO Movimientos VALUES (9,'1234567890','Deposito',1000.0,'2025-04-17 03:28:03');
INSERT INTO Movimientos VALUES (10,'1234567890','Deposito',1000.0,'2025-04-17 03:28:03');
INSERT INTO Movimientos VALUES (11,'1234567890','Deposito',1000.0,'2025-04-17 03:28:03');
INSERT INTO Movimientos VALUES (12,'1234567890','Deposito',1000.0,'2025-04-17 03:28:04');
INSERT INTO Movimientos VALUES (13,'1234567890','Deposito',1000.0,'2025-04-17 03:28:04');
INSERT INTO Movimientos VALUES (14,'1234567890','Deposito',1000.0,'2025-04-17 03:28:04');
INSERT INTO Movimientos VALUES (15,'1234567890','Deposito',1000.0,'2025-04-17 03:28:04');
INSERT INTO Movimientos VALUES (16,'1234567890','Deposito',200.0,'2025-04-17 03:28:15');
INSERT INTO Movimientos VALUES (17,'1234567890','Deposito',200.0,'2025-04-17 03:28:16');
INSERT INTO Movimientos VALUES (18,'1234567890','Deposito',200.0,'2025-04-17 03:28:16');
INSERT INTO Movimientos VALUES (19,'1234567890','Deposito',200.0,'2025-04-17 03:28:16');
INSERT INTO Movimientos VALUES (20,'1234567890','Deposito',200.0,'2025-04-17 03:28:16');
INSERT INTO Movimientos VALUES (21,'1234567890','Deposito',200.0,'2025-04-17 03:28:34');
INSERT INTO Movimientos VALUES (22,'1234567890','Deposito',1000.0,'2025-04-17 03:28:59');
INSERT INTO Movimientos VALUES (23,'1234567890','Deposito',1000.0,'2025-04-17 03:29:03');
INSERT INTO Movimientos VALUES (24,'1234567890','Deposito',1000.0,'2025-04-17 03:29:06');
INSERT INTO Movimientos VALUES (25,'1234567890','Deposito',1000.0,'2025-04-17 03:29:08');
INSERT INTO Movimientos VALUES (26,'1234567890','Deposito',1000.0,'2025-04-17 03:29:09');
INSERT INTO Movimientos VALUES (27,'1234567890','Deposito',1000.0,'2025-04-17 03:29:10');
INSERT INTO Movimientos VALUES (28,'1234567890','Deposito',150.0,'2025-04-17 03:32:48');
INSERT INTO Movimientos VALUES (29,'1234567890','Deposito',100.0,'2025-04-17 03:38:59');
INSERT INTO Movimientos VALUES (30,'1234567890','Deposito',100.0,'2025-04-17 03:44:40');
INSERT INTO Movimientos VALUES (31,'1234567890','Deposito',50.0,'2025-04-17 03:45:35');
INSERT INTO Movimientos VALUES (32,'1234567890','Deposito',0.0,'2025-04-17 03:55:37');
INSERT INTO Movimientos VALUES (33,'1234567890','Deposito',1000.0,'2025-04-17 03:59:05');
INSERT INTO Movimientos VALUES (34,'1234567890','Deposito',150.0,'2025-04-17 03:59:13');
INSERT INTO Movimientos VALUES (35,'1234567890','Retiro',200.0,'2025-04-17 03:59:23');
INSERT INTO Movimientos VALUES (36,'1234567890','Deposito',100.0,'2025-04-17 03:59:43');
INSERT INTO Movimientos VALUES (37,'1234567890','Deposito',100.0,'2025-04-17 04:10:46');
INSERT INTO Movimientos VALUES (38,'1234567890','Retiro',100.0,'2025-04-17 04:10:57');
INSERT INTO Movimientos VALUES (39,'1234567890','Deposito',100.0,'2025-04-17 04:15:04');
INSERT INTO Movimientos VALUES (40,'1234567890','Retiro',100.0,'2025-04-17 04:15:12');
INSERT INTO Movimientos VALUES (41,'1234567890','Retiro',100.0,'2025-04-17 04:18:07');
INSERT INTO Movimientos VALUES (42,'1234567890','Retiro',100.0,'2025-04-17 04:18:14');
INSERT INTO Movimientos VALUES (43,'2468024680','Deposito',5000.0,'2025-04-17 04:19:36');
INSERT INTO Movimientos VALUES (44,'2468024680','Retiro',1000.0,'2025-04-17 04:19:42');
INSERT INTO Movimientos VALUES (45,'2468024680','Deposito',500.0,'2025-04-17 04:21:12');
INSERT INTO Movimientos VALUES (46,'2468024680','Deposito',500.0,'2025-04-17 04:23:06');
INSERT INTO Movimientos VALUES (47,'2468024680','Retiro',5000.0,'2025-04-17 04:23:13');
INSERT INTO Movimientos VALUES (48,'2468024680','Retiro',5000.0,'2025-04-17 04:23:19');
INSERT INTO Movimientos VALUES (49,'2468024680','Deposito',2000.0,'2025-04-17 04:23:33');
INSERT INTO Movimientos VALUES (50,'2468024680','Transferencia',1000.0,'2025-04-17 04:24:25');
INSERT INTO Movimientos VALUES (51,'1234567890','Transferencia',1850.0,'2025-04-17 04:24:55');
INSERT INTO Movimientos VALUES (52,'1234567890','Deposito',1234.0,'2025-04-17 05:15:01');
INSERT INTO Movimientos VALUES (53,'1234567890','Deposito',1000.0,'2025-04-17 05:17:43');
INSERT INTO Movimientos VALUES (54,'2468024680','Deposito',2000.0,'2025-04-17 05:17:44');
INSERT INTO Movimientos VALUES (55,'2468024680','Retiro',500.0,'2025-04-17 05:18:18');
INSERT INTO Movimientos VALUES (56,'1234567890','Retiro',1000.0,'2025-04-17 05:18:19');
INSERT INTO Movimientos VALUES (57,'1234567890','Transferencia',300.0,'2025-04-17 05:19:52');
INSERT INTO Movimientos VALUES (58,'2468024680','Transferencia',3000.0,'2025-04-17 05:19:52');
INSERT INTO Movimientos VALUES (59,'1234567890','Retiro',34.0,'2025-04-27 03:06:51');
INSERT INTO Movimientos VALUES (60,'1234567890','Deposito',5000.0,'2025-05-06 03:17:34');
INSERT INTO Movimientos VALUES (61,'2468024680','Deposito',200.0,'2025-05-06 03:20:33');
INSERT INTO Movimientos VALUES (62,'2468024680','Retiro',100.0,'2025-05-06 03:20:43');
INSERT INTO Movimientos VALUES (63,'1234567890','Retiro',500.0,'2025-05-08 05:30:38');
INSERT INTO Movimientos VALUES (64,'2468024680','Retiro',1000.0,'2025-05-08 05:31:05');
INSERT INTO Movimientos VALUES (65,'1234567890','Deposito',800.0,'2025-05-08 05:32:42');
INSERT INTO Movimientos VALUES (66,'2468024680','Deposito',1600.0,'2025-05-08 05:33:03');
INSERT INTO Movimientos VALUES (67,'1234567890','Transferencia',1000.0,'2025-05-08 05:33:38');
INSERT INTO Movimientos VALUES (68,'2468024680','Transferencia',2000.0,'2025-05-08 05:34:05');
INSERT INTO Transferencias VALUES (1,'1234567890','2468024680',500.0,'2024-01-10');
INSERT INTO Transferencias VALUES (2,'3692581470','6284062840',1000.0,'2024-01-12');
INSERT INTO Transferencias VALUES (3,'2468024680','4826048260',0.8,'2024-01-15');
INSERT INTO Transferencias VALUES (4,'2468024680','1234567890',1000.0,'2025-04-17 04:24:25');
INSERT INTO Transferencias VALUES (5,'1234567890','2468024680',1850.0,'2025-04-17 04:24:55');
INSERT INTO Transferencias VALUES (6,'1234567890','2468024680',300.0,'2025-04-17 05:19:52');
INSERT INTO Transferencias VALUES (7,'2468024680','1234567890',3000.0,'2025-04-17 05:19:52');
INSERT INTO Transferencias VALUES (8,'1234567890','2468024680',1000.0,'2025-05-08 05:33:38');
INSERT INTO Transferencias VALUES (9,'2468024680','1234567890',2000.0,'2025-05-08 05:34:05');
COMMIT;
